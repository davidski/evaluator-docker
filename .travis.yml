sudo: required
services:
- docker
before_install:
- docker pull davidski/evaluator-docker:latest
install:
- docker build --cache-from davidski/evaluator-docker:latest -t davidski/evaluator-docker .
- docker run -d --name evaluator evaluator-docker
script:
- docker ps |grep -q rstudio
after_success:
- docker rm -f evaluator
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
- docker push davidski/evaluator-docker:latest
notifications:
  slack:
    secure: lBu+n1YP9FaPTiSpDWZqBXDJF1yoTC77kw6VI26S0GO8RcyEMZZNYGsjiEoTu1SMxbJsvIRC6Jg3kiU7Vnoz9lV/Oj9Xp8oEmS5gL3AGiXq6L7yDxshOjAK0coa+aKIp6aP7xjOVZ9DqI7hCIJnelz9j/1APEwuPC+av4kBtcvnnz4oClKDn+LRpowIGJufZ1IplCXjIyb89WOvjwI7hA/0WO8m6B/W1vU9xxQfeVeaeCRc/29RrIIX1elXLdu1YF8q56DJsnspNSFP8RuXMXvID5IXIXFqfOKb6G5BhYjNvaeovP2MCd5XpO7LYWQzAttRRoKLYO+f3MFRNb4iLIcciGcGa6h/pus7YQud/dWfj94zFleWp0xezduFLgJFrQd8BQXQiSjPcWTA+okwQqCf9DEFJMgCcC1i5vEE2OYtExicG5+835v+n38MrQdRp144Xl0X+bqITWb2xjfCDk5SHdAXR9poNPp5356Pj1roptbO9byZX1afoxEZ1CF3T5F+H7PQjuFWq6P+uDQpOS6+0hVtRrU6ry6MmXUnfmcAA+kqlNmdVDE8VTyckIzxzg9Ac3X94uaNZrUxarPOIGOQhP0Gj+wrtc3wx/BdLspJMtLS/PHq560UiUU/glbGllEClBQl+sCqRs9hsJwC8znlXvSAy28bf4oHhiGyiqD8=
env:
  global:
  - secure: Rks7BuPVU1O9LDfn8GoaWuXSwfz4ywV+EVXhkiOnUXEpicyxepW7oXFa7EceBa/k/CybD3H729BOhqxpoWHJ6GkSgkj4k2noYfvciemJD65/gxHk6RsmrmALIHvCLmkSDaJDXQdWN1vtmwWTGScTBwf3RZe8qWQkKVMI0RBHR4VypWLP+fylaLHsD3YrMBeOJD56xqTMZU4O1w8a6AheprWy44zDmq1H6JmDu388PdF8nA+sIfCIow1b/NgyyssPaF0h/Xw7TJ/YjufXtlKMHl59nV+UfPZyJoV61Q04FONoWVt9ZNmTUwt1tf2KxTLQz/k9Wc5MPqsWEVGaAADhlKHQiUAXf4t4B9WNVmnHODIMDzfcxTEbn3xlTASYxjYkA8ydM/l+A1uoIx74M5tZofU0v7durXGPFDtram1IT+e7Do2Xa6RbEHNBzvwax/qxwTicr+cNS8gIXe78238w05vdQH9x3YhNOPatPAnrhx/uiWcL59RQ593wCqcQNjUfavfvZUtjCRdvImhnq5lB6gxFAHUWZD9BN8+j6Gmlzgfn/D0+6J2/koWepTCqprt0UdtiUeKyDp2EthO5uY/v8a0npgdGQ409NZ7f4/zOFzoxanaSx75DtvfbZj+Sy8FmM0//pNFT/gC0iw8sdWGWS/z348l3raHiILNpN6MhpGQ=
  - secure: kJc7QW7ZA+BKuC19SGuAWQOMIQ3a2NOF+aMJaHTgVaquPA/Ke/EilSGlNYR47bDmnHDlnXr2O02Dxb+hurgyx5zpP4BmAgyB4FK0iuZQIX/WiV5ZVk0CYJfTcEqrZVK3W70AFqCYEG7iP6ZOsHke9VA38csVav4Fayq/9tuBRkevW2f5RrtUQwzO0VKBDD7NLApxVN7uCdjjHra7UlV3V6Wj4Tcplx/ekWADGhKrzjb2mfPPmcAH6mZicwYAH/pDp7+bBLnQYveFFYVeC44kVaAk1kz7IxshQPTXdGy0goxCNdVhYHhFYFdLMkbkM/SsfYEf6s4gAs12YKtzVwzOAJ51FDy47kNSxYzNxw44CLuKzlTl3/YR7CrM558GHjhj3sGd1RyLsJu3lwFZLIrQtEw6/HeZlIRzpJqSbOiqCws4XqaorhZhvULbQNr4AL9Z+GQxiTay65fayaDX+SkaBjONV0L0cxKGhCbxYJIFtoxUIw97Ohs4vjoZ57WCnovztn4yXGEgSEDGN98qS46R+84zRwtqdSXMaHzzgCCsQVs/szqqcQTa7Wsg/bzJZPq24rZD4LHr1f/zRVxR7aoJGC5Ub036ptudC35nGLMCLqlIlLCUntvv+j2ozn1lAYuXElo+pi4kMjrP/tZTEiQfGNzKLbf8zslwyJCLXwGs23A=
